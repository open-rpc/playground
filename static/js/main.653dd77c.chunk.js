(this["webpackJsonp@open-rpc/playground"]=this["webpackJsonp@open-rpc/playground"]||[]).push([[1],{594:function(e,t,a){e.exports=a(915)},599:function(e,t,a){},760:function(e,t,a){},798:function(e,t){},806:function(e,t){},808:function(e,t){},855:function(e,t){},915:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(64),c=a.n(o),s=(a(599),a(158)),i=a(52),l=a(16);var p=Object(l.a)(e=>({list:{color:e.palette.secondary.main,height:"100%",listStyle:"none",overflow:"scroll"},wrapper:{maxHeight:"200px"}}))(e=>{const t=e.classes,a=e.markers;return a&&0!==a.length?r.a.createElement("div",{className:t.wrapper},r.a.createElement("ul",{className:t.list},a&&a.map(e=>r.a.createElement("li",{key:e.message},e.startLineNumber,":",e.startColumn," - ",e.message)))):null}),m=a(81),u=a(565),d=(a(760),a(949)),h=a(957),g=a(504),b=a(491),f=a(961),E=a(418),j=a(958),y=a(924),O=a(569),v=a.n(O),x=a(572),k=a.n(x),S=a(571),C=a.n(S),w=a(570),M=a.n(w),B=a(953);var D=Object(l.a)(e=>({title:{marginLeft:e.spacing(2)},appBar:{}}))(e=>{const t=e.uiSchema,a=e.searchBarUrl,n=e.onChangeUrl;return r.a.createElement(B.a,{value:a,placeholder:t&&t.appBar["ui:inputPlaceholder"],style:{width:"100%"},onChange:e=>{n(e.target.value)}})}),N=a(492),T=a(566),I=a(954),P=a(568),z=a.n(P);var K=({examples:e,onChange:t})=>{const a=n.useState(null),r=Object(i.a)(a,2),o=r[0],c=r[1];return e?n.createElement(n.Fragment,null,n.createElement(j.a,{title:"Example OpenRPC Documents"},n.createElement(N.a,{onClick:e=>{c(e.currentTarget)},variant:"outlined",endIcon:n.createElement(z.a,null),style:{height:"38px",fontSize:"11px",marginLeft:"10px"}},"examples")),n.createElement(T.a,{id:"simple-menu",anchorEl:o,keepMounted:!0,open:Boolean(o),onClose:()=>{c(null)}},n.createElement("div",{style:{maxWidth:"525px"}},e.map(e=>n.createElement(I.a,{onClick:a=>(e=>{c(null),t&&t(e)})(e)},n.createElement(g.a,{container:!0,spacing:0},n.createElement(g.a,{item:!0,xs:12},n.createElement(b.a,{variant:"subtitle1"},e.name)),n.createElement(g.a,{item:!0,xs:12},n.createElement(b.a,{variant:"caption",style:{fontSize:"9px"}},e.url)))))))):null};class U extends n.Component{render(){const e=this.props,t=e.uiSchema,a=e.classes,n=e.onSplitViewChange,o=e.onDarkModeChange,c=e.examples,s=e.onExampleDocumentsDropdownChange;return r.a.createElement(d.a,{position:"fixed",color:"default",elevation:0,className:a.appBar},r.a.createElement(h.a,null,r.a.createElement(g.a,{alignItems:"center",container:!0},r.a.createElement(g.a,{item:!0,xs:6,sm:6,md:3,direction:"row",container:!0},this.props.uiSchema&&this.props.uiSchema.appBar&&this.props.uiSchema.appBar["ui:logoUrl"]&&r.a.createElement(g.a,null,r.a.createElement("img",{alt:"playground-title",height:"30",src:this.props.uiSchema.appBar["ui:logoUrl"]})),r.a.createElement(g.a,{style:{overflow:"hidden"}},r.a.createElement(b.a,{className:a.title,variant:"h6"},t&&t.appBar["ui:title"]))),r.a.createElement(f.a,{smDown:!0},r.a.createElement(g.a,{item:!0,container:!0,justify:"center",alignItems:"center",sm:6},r.a.createElement(g.a,{item:!0,sm:9},this.props.uiSchema&&this.props.uiSchema.appBar&&this.props.uiSchema.appBar["ui:input"]&&r.a.createElement(E.a,{style:{background:"rgba(0, 0, 0, 0.1)",padding:"0px 10px 0px 10px",width:"100%"},elevation:0},r.a.createElement(D,{searchBarUrl:this.props.searchBarUrl,onChangeUrl:this.props.onChangeUrl,uiSchema:t}))),r.a.createElement(K,{examples:c,onChange:s}))),r.a.createElement(g.a,{item:!0,xs:6,sm:6,md:3,container:!0,justify:"flex-end",alignItems:"center"},t&&t.appBar["ui:splitView"]?r.a.createElement(j.a,{title:"Full Screen"},r.a.createElement(y.a,{onClick:()=>{n&&n(!1)}},r.a.createElement(v.a,null))):r.a.createElement(j.a,{title:"Edit"},r.a.createElement(y.a,{onClick:()=>{n&&n(!0)}},r.a.createElement(M.a,null))),r.a.createElement(j.a,{title:"Toggle Dark Theme"},r.a.createElement(y.a,null,t&&t.appBar["ui:darkMode"]?r.a.createElement(C.a,{onClick:()=>o(!1)}):r.a.createElement(k.a,{onClick:()=>o(!0)})))))))}}var V=Object(l.a)(e=>({title:{marginLeft:e.spacing(2)},appBar:{}}))(U),L=a(584),R=a(934),F=a(955),J=a(416),A=a.n(J),Y=a(128),H=a.n(Y),W=a(573),_=a.n(W),q=a(578),G=a.n(q),$=a(575),Q=a.n($),X=a(417),Z=a.n(X),ee=a(574),te=a.n(ee),ae=a(576),ne=a.n(ae),re=a(577),oe=a.n(re);const ce={success:_.a,warning:te.a,error:Q.a,info:Z.a,debug:Z.a};let se;!function(e){e.error="error",e.warn="warning",e.info="info",e.success="success",e.debug="debug"}(se||(se={}));class ie extends r.a.Component{render(){const e=this.props,t=e.classes,a=e.className,n=e.message,o=e.onClose,c=e.variant,s=Object(L.a)(e,["classes","className","message","onClose","variant"]),i=ce[c];return r.a.createElement(R.a,Object.assign({className:A()(t[c],a),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:t.message},r.a.createElement(i,{className:A()(t.icon,t.iconVariant)}),n),action:[r.a.createElement(y.a,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:o},r.a.createElement(G.a,{className:t.icon}))]},s))}}const le=Object(l.a)(e=>({success:{color:ne.a[600]},error:{backgroundColor:e.palette.error.dark},info:{color:e.palette.primary.dark},debug:{color:e.palette.secondary.dark},warning:{color:oe.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(2)},message:{display:"flex",alignItems:"center"},close:{padding:e.spacing(1)},margin:{margin:e.spacing(2)}}))(ie);class pe extends n.Component{render(){const e=this.props,t=e.classes,a=e.notification,n=e.close;return Object(Y.isEmpty)(a)?null:r.a.createElement(F.a,{open:!0,autoHideDuration:1e4,anchorOrigin:{vertical:"bottom",horizontal:"left"}},r.a.createElement(le,{onClose:n,variant:a.type,message:r.a.createElement("span",null,a.message),className:t.margin}))}}const me=Object(l.a)(e=>({title:{marginLeft:e.spacing(2)},close:{padding:e.spacing(1)},margin:{margin:e.spacing(2)}}))(pe);var ue=a(948),de=a(309),he=a(335),ge=a.n(he);const be=Object(de.a)({props:{MuiAppBar:{position:"sticky"},MuiCard:{elevation:0}},overrides:{MuiPaper:{root:{zIndex:1,opacity:1}},MuiToolbar:{root:{background:"transparent !important"}},MuiAppBar:{root:{backgroundColor:"transparent !important"},colorDefault:{background:"transparent !important"},colorPrimary:{background:"transparent !important"}}},palette:{background:{default:"#fff"}}}),fe=Object(de.a)({props:{MuiAppBar:{position:"sticky"}},palette:{type:"dark",background:{default:ge.a[900],paper:ge.a[900]}},overrides:{MuiPaper:{root:{zIndex:1,opacity:1}},MuiAppBar:{root:{background:"transparent !important"},colorPrimary:{background:"transparent !important"}},MuiToolbar:{root:{background:"transparent !important"}},MuiTable:{root:{background:"transparent !important"}},MuiTypography:{root:{color:ge.a[400]}}}});var Ee=a(582),je=a.n(Ee),ye=a(583),Oe=a.n(ye),ve=a(952),xe=a(951),ke=a(959),Se=a(956),Ce=a(415);var we=e=>{if(!1===e.split&&e.onlyRenderSplit)return r.a.createElement("div",{key:2,style:e.splitLeft?e.leftStyle:e.rightStyle},e.splitLeft?e.left:e.right);const t=e.direction||"vertical",a=e.split?"horizontal"===t?window.innerHeight/2:window.innerWidth/2:"horizontal"===t?window.innerHeight:window.innerWidth;return r.a.createElement(Ce.default,{split:t,style:e.style,className:"playground-splitview",minSize:100,maxSize:0,defaultSize:a,size:a,onChange:t=>{e.onChange&&e.onChange(t)}},r.a.createElement("div",{style:e.leftStyle?Object(s.a)({},e.leftStyle,{},{display:"flex",flexDirection:"column",height:"100%"}):{display:"flex",flexDirection:"column",height:"100%"},key:1},e.left),r.a.createElement("div",{key:2,style:e.rightStyle},e.right))},Me=a(579),Be=a.n(Me);var De=e=>{const t=Object(n.useState)(),a=Object(i.a)(t,2),r=a[0],o=a[1],c=e=>{let t;try{t=JSON.parse(e)}catch(a){}t&&Be.a.dereference(t).then(t=>{o(t),H.a.defer(()=>window.localStorage.setItem("schema",e))})};return Object(n.useEffect)(()=>{e&&c(e)},[]),[r,c]};var Ne=function(){const e=Object(n.useState)(()=>window.localStorage.getItem("schema")),t=Object(i.a)(e,2);return[t[0],t[1]]},Te=a(166),Ie=a(179),Pe=a.n(Ie),ze=a(333),Ke=function(){var e=Object(ze.a)(Pe.a.mark((function e(t){var a;return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if(404!==(a=e.sent).status){e.next=5;break}throw new Error("404: Not Found");case 5:return e.abrupt("return",a.text());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();let Ue=0;var Ve=function(){var e=Object(ze.a)(Pe.a.mark((function e(t){var a,n;return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{body:JSON.stringify({id:Ue++,jsonrpc:"2.0",method:"rpc.discover",params:[]}),headers:{"Content-Type":"application/json"},method:"POST"});case 2:if(404!==(a=e.sent).status){e.next=5;break}throw new Error("404: Not Found");case 5:return e.next=7,a.json();case 7:return n=e.sent,e.abrupt("return",JSON.stringify(n.result,null,2));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var Le=e=>{const t=Object(n.useState)(e),a=Object(i.a)(t,2),r=a[0],o=a[1],c=Object(n.useState)(),s=Object(i.a)(c,2),l=s[0],p=s[1],m=Object(n.useState)(),u=Object(i.a)(m,2),d=u[0],h=u[1];return Object(n.useEffect)(()=>{r&&(Object(Y.isEmpty)(r)||(r.match(/\.json$/)?Ke(r).then(p).catch(e=>{const t="Error fetching schema for: ".concat(r);console.error(t,e),h(t)}):Ve(r).then(p).catch(e=>{const t="Error fetching rpc.discover for: ".concat(r);console.error(t,e),h(t)})))},[r]),[r,{results:l,error:d},o]},Re=a(580);var Fe=()=>{const e=Object(n.useState)(Re.parse(window.location.search,{ignoreQueryPrefix:!0,depth:100,decoder:e=>/^(\d+|\d*\.\d+)$/.test(e)?parseFloat(e):"false"!==e&&("true"===e||decodeURIComponent(e))}));return[Object(i.a)(e,1)[0]]},Je=Object(Te.createStore)(()=>Fe()),Ae=Object(Te.createStore)(()=>{const e=Je(),t=Object(i.a)(e,1)[0];return Le(t.schemaUrl||t.url)}),Ye=Object(Te.createStore)(()=>{const e=Object(n.useState)(),t=Object(i.a)(e,2);return[t[0],t[1]]});var He=e=>{const t=Ae(),a=Object(i.a)(t,1)[0],n=Ye(),o=Object(i.a)(n,2)[1],c=e.openrpcMethodObject;let s,l;if(c&&c.examples&&c.examples[0]){s=c.examples[0];const e=c.paramStructure||"either";l="by-name"===e?s.params.reduce((e,t)=>(e[t.name]=t.value,e),{}):s.params.map(e=>e.value)}return r.a.createElement(j.a,{title:"Open in Inspector"},r.a.createElement(N.a,{variant:"contained",onClick:()=>o({url:a,openrpcMethodObject:e.openrpcMethodObject,request:{jsonrpc:"2.0",method:c.name,params:l||[],id:0}})},r.a.createElement("span",{role:"img","aria-label":"try-it-inspector"},"\ud83d\udd75\ufe0f\u200d\u2642\ufe0f"),"\ufe0f\ufe0f Try It Now"))};var We=e=>{const t=Object(n.useState)(e),a=Object(i.a)(t,2),r=a[0],o=a[1];return[r,({section:e,key:t,value:a})=>{o(Object(s.a)({},r,{[e]:Object(s.a)({},r.appBar,{[t]:a})}))}]};var _e=Object(Te.createStore)(()=>{const e=Je(),t=Object(i.a)(e,1)[0];return We((a={appBar:{"ui:input":!0,"ui:inputPlaceholder":"Enter OpenRPC Document Url or rpc.discover Endpoint","ui:logoUrl":"https://github.com/open-rpc/design/raw/master/icons/open-rpc-logo-noText/open-rpc-logo-noText%20(PNG)/128x128.png","ui:splitView":!0,"ui:darkMode":!1,"ui:title":"Playground"},methods:{"ui:defaultExpanded":!1,"ui:methodPlugins":!0},params:{"ui:defaultExpanded":!1}},n=t.uiSchema,a&&n?{appBar:Object(s.a)({},a.appBar,{},n.appBar||{}),methods:Object(s.a)({},a.methods,{},n.methods||{}),params:Object(s.a)({},a.params,{},n.params||{})}:a||n));var a,n}),qe=[{name:"api-with-examples",url:"https://raw.githubusercontent.com/open-rpc/examples/master/service-descriptions/api-with-examples-openrpc.json"},{name:"link-example",url:"https://raw.githubusercontent.com/open-rpc/examples/master/service-descriptions/link-example-openrpc.json"},{name:"params-by-name-petstore",url:"https://raw.githubusercontent.com/open-rpc/examples/master/service-descriptions/params-by-name-petstore-openrpc.json"},{name:"petstore-expanded",url:"https://raw.githubusercontent.com/open-rpc/examples/master/service-descriptions/petstore-expanded-openrpc.json"},{name:"petstore",url:"https://raw.githubusercontent.com/open-rpc/examples/master/service-descriptions/petstore-openrpc.json"},{name:"simple-math",url:"https://raw.githubusercontent.com/open-rpc/examples/master/service-descriptions/simple-math-openrpc.json"},{name:"empty-document",url:"https://raw.githubusercontent.com/open-rpc/examples/master/service-descriptions/empty-openrpc.json"}],Ge=a(307),$e=a.n(Ge),Qe=a(411),Xe=a.n(Qe),Ze=a(308),et=a(276),tt=a.n(et);var at=e=>{const t=Object(n.useRef)(),a=Xe()();let o;Object(n.useEffect)(()=>{void 0!==t&&void 0!==t.current&&t.current.layout()},[a]),Object(n.useEffect)(()=>function(){o&&o.dispose()},[]);return r.a.createElement($e.a,{height:"100%",editorOptions:{useShadows:!1,minimap:{enabled:!1},scrollBeyondLastLine:!1,lineNumbers:"on"},value:e.value,editorDidMount:function(a,n){t.current=n;const r=m.Uri.parse("inmemory://openrpc-playground.json");o=m.editor.createModel(e.value||"","json",r),n.setModel(o),Object(Ze.addDiagnostics)(r.toString(),tt.a,m),e.editorDidMount&&e.editorDidMount(H.a,n),e.onMarkerChange&&n.onDidChangeModelDecorations(H.a.debounce(()=>{if(e.onMarkerChange){const t=m.editor.getModelMarkers({resource:r});e.onMarkerChange(t)}},300))},language:"json",onChange:(t,a)=>{e.onChange&&e.onChange(a)}})};var nt=e=>{const t=Object(n.useState)(tt.a),a=Object(i.a)(t,2),r=a[0],o=a[1];return Object(n.useEffect)(()=>{e&&e.addAction({id:"replace-meta-schema",label:"Replace Meta Schema",keybindings:[m.KeyMod.chord(m.KeyMod.CtrlCmd|m.KeyCode.KEY_K,m.KeyMod.CtrlCmd|m.KeyCode.KEY_R)],contextMenuGroupId:"navigation",contextMenuOrder:1.5,run:()=>{const e=window.prompt("Paste schema to replace current meta schema","{}");e&&o(JSON.parse(e))}})},[e]),[r]};const rt=a(541).initVimMode;var ot=e=>{const t=Object(n.useState)(),a=Object(i.a)(t,2),r=a[0],o=a[1];return Object(n.useEffect)(()=>{if(e)return e.addAction({id:"vim-mode",label:"Vim Mode",keybindings:[m.KeyMod.chord(m.KeyMod.CtrlCmd|m.KeyCode.KEY_K,m.KeyMod.CtrlCmd|m.KeyCode.KEY_V)],contextMenuGroupId:"navigation",contextMenuOrder:1.5,run:()=>{r&&r.dispose(),o(rt(e))}}),()=>{r&&r.dispose()}},[e]),[e,r]},ct=a(581),st=a.n(ct);var it=()=>{const e=Ne(),t=Object(i.a)(e,1)[0],a=Object(n.useState)([]),o=Object(i.a)(a,2),c=o[0],l=o[1],d=Ae(),h=Object(i.a)(d,3),g=h[0],f=h[1],E=f.results,O=f.error,v=h[2],x=Object(n.useState)(),k=Object(i.a)(x,2),S=k[0],C=k[1],w=_e(),M=Object(i.a)(w,2),B=M[0],D=M[1],N=Object(n.useState)(),T=Object(i.a)(N,2),I=T[0],P=T[1],z=Object(n.useState)(!1),K=Object(i.a)(z,2),U=K[0],L=K[1],R=De(t?JSON.parse(t):null),F=Object(i.a)(R,2),J=F[0],A=F[1],Y=e=>{I&&setTimeout(()=>{I.layout()},0),L(e)},H=Ye(),W=Object(i.a)(H,1)[0];nt(I),ot(I);Object(n.useEffect)(()=>{m.editor.setTheme(B.appBar["ui:darkMode"]?"vs-dark":"vs")},[]),Object(n.useEffect)(()=>{const e=qe.find(e=>"petstore"===e.name);t||g||!e||v(e.url)},[t]),Object(n.useEffect)(()=>{$(Object(s.a)({},G,{theme:B.appBar["ui:darkMode"]?"summerfruit":"summerfruit:inverted"}))},[B.appBar["ui:darkMode"]]),Object(n.useEffect)(()=>{E&&I&&I.setValue(E),E&&A(E)},[E]),Object(n.useEffect)(()=>{O&&C({type:se.error,message:O})},[O]),Object(n.useEffect)(()=>{A(t||"")},[t]);const _=Object(n.useState)({theme:"summerfruit:inverted",collapseStringsAfterLength:25,displayDataTypes:!1,displayObjectSize:!1,indentWidth:2,name:!1}),q=Object(i.a)(_,2),G=q[0],$=q[1],Q=B.appBar["ui:darkMode"]?fe:be;return Object(n.useEffect)(()=>{W&&Y(!0)},[W]),r.a.createElement(ue.a,{theme:Q},r.a.createElement(ve.a,null),r.a.createElement(V,{searchBarUrl:g,uiSchema:B,examples:qe,onExampleDocumentsDropdownChange:e=>v(e.url),onSplitViewChange:e=>{D({value:e,key:"ui:splitView",section:"appBar"})},onDarkModeChange:e=>{m.editor.setTheme(e?"vs-dark":"vs"),D({value:e,key:"ui:darkMode",section:"appBar"})},onChangeUrl:v}),r.a.createElement(we,{direction:"horizontal",splitLeft:!0,split:U,leftStyle:{width:"100%",height:"100%"},right:r.a.createElement(r.a.Fragment,null,r.a.createElement(st.a,{hideToggleTheme:!0,url:g&&g.includes(".json")?null:g,request:W&&W.request,openrpcDocument:J})),onChange:()=>I&&I.layout(),left:r.a.createElement(we,{onlyRenderSplit:!0,split:B.appBar["ui:splitView"],leftStyle:{paddingTop:"58px",height:"94%",width:"100%"},rightStyle:{height:"94%",width:"100%",overflowY:"auto",marginTop:"58px",paddingBottom:"58px"},onChange:()=>I&&I.layout(),left:r.a.createElement(r.a.Fragment,null,r.a.createElement(p,{markers:c}),r.a.createElement(at,{editorDidMount:(e,t)=>{P(t)},onMarkerChange:e=>{l(e)},onChange:e=>{A(e)},value:t||""})),right:r.a.createElement(r.a.Fragment,null,r.a.createElement(xe.a,null,r.a.createElement(u.Documentation,{schema:J,uiSchema:B,reactJsonOptions:G,methodPlugins:B.methods["ui:methodPlugins"]?[He]:void 0})),r.a.createElement(ke.a,{variant:"scrollable",indicatorColor:"primary",value:0,style:{position:"absolute",bottom:"0",right:"25px",zIndex:1,marginBottom:"0px"}},r.a.createElement(Se.a,{onClick:()=>Y(!U),style:{background:Q.palette.background.default,width:"165px",paddingRight:"30px",border:"1px solid ".concat(Q.palette.text.hint)},label:r.a.createElement("div",null,r.a.createElement(b.a,{variant:"body1"},r.a.createElement("span",{role:"img","aria-label":"inspector"},"\ud83d\udd75\ufe0f\u200d\u2642\ufe0f"),"\ufe0f Inspector"),r.a.createElement(j.a,{title:"Toggle Inspector"},r.a.createElement(y.a,{style:{position:"absolute",right:"5px",top:"20%"},size:"small"},U?r.a.createElement(je.a,null):r.a.createElement(Oe.a,null))))})))})}),r.a.createElement(me,{close:()=>C({}),notification:S}))};c.a.render(r.a.createElement(Te.ReusableProvider,null,r.a.createElement(it,null)),document.getElementById("root"))}},[[594,2,3]]]);
//# sourceMappingURL=main.653dd77c.chunk.js.map